<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abjad Numerology Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        #breakdownContainer::-webkit-scrollbar { width: 8px; }
        #breakdownContainer::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
        #breakdownContainer::-webkit-scrollbar-thumb { background: rgba(209, 173, 94, 0.6); border-radius: 10px; }
        #breakdownContainer::-webkit-scrollbar-thumb:hover { background: #D1AD5E; }
        #textInput:focus { box-shadow: 0 0 0 2px rgba(209, 173, 94, 0.5); }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 flex flex-col min-h-screen">

    <header class="bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-800">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="./index.html" class="text-2xl font-bold text-white">IslamicCalculations.io</a>
            
            <div class="relative">
                <button id="menu-toggle" class="text-white focus:outline-none p-2 rounded-md hover:bg-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>

                <div id="nav-links" class="hidden absolute right-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl py-2 z-20">
                    <a href="./index.html" class="block px-4 py-2 text-gray-300 hover:text-yellow-400 hover:bg-gray-700 transition-colors">Home</a>
                    <a href="./zakat_calculator.html" class="block px-4 py-2 text-gray-300 hover:text-yellow-400 hover:bg-gray-700 transition-colors">Zakat</a>
                    <a href="./salah_times_calculator.html" class="block px-4 py-2 text-gray-300 hover:text-yellow-400 hover:bg-gray-700 transition-colors">Salah</a>
                    <a href="./hijri_calendar.html" class="block px-4 py-2 text-gray-300 hover:text-yellow-400 hover:bg-gray-700 transition-colors">Hijri Calendar</a>
                    <a href="./inheritance_calculator.html" class="block px-4 py-2 text-gray-300 hover:text-yellow-400 hover:bg-gray-700 transition-colors">Inheritance</a>
                    <a href="./abjad_calculator.html" class="block px-4 py-2 text-white font-semibold hover:bg-gray-700 transition-colors">Abjad</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="flex-grow flex items-center justify-center p-4">
        <div class="w-full max-w-2xl mx-auto">
            <div class="glass-effect rounded-2xl shadow-2xl p-6 md:p-10">
                <div class="text-center mb-8">
                    <h1 class="text-4xl md:text-5xl font-bold text-white" style="font-family: 'Lora', serif;">Abjad Calculator</h1>
                    <p class="text-gray-400 mt-2">Calculate the numerical value of words and phrases.</p>
                </div>

                <div class="mb-6">
                    <label for="textInput" class="sr-only">Enter text</label>
                    <textarea id="textInput" rows="4" class="w-full bg-gray-800 border-2 border-gray-700 rounded-lg p-4 text-lg text-white placeholder-gray-500 focus:outline-none focus:border-yellow-600 transition-all duration-300" placeholder="اكتب النص هنا..." dir="rtl"></textarea>
                </div>

                <div class="flex flex-col sm:flex-row gap-4 mb-8">
                    <button id="calculateBtn" class="w-full bg-yellow-600 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-6 rounded-lg text-lg transition-transform transform hover:scale-105 duration-300 shadow-lg">
                        Calculate
                    </button>
                    <button id="clearBtn" class="w-full sm:w-auto bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                        Clear
                    </button>
                </div>

                <div id="resultSection" class="text-center hidden">
                    <p class="text-gray-400 text-lg mb-2">Total Numerical Value</p>
                    <div class="relative inline-block">
                        <h2 id="totalValue" class="text-6xl md:text-7xl font-bold text-yellow-400 tracking-wider">0</h2>
                        <button id="copyBtn" class="absolute -top-2 -right-10 text-gray-500 hover:text-yellow-400 transition-colors duration-300" title="Copy to clipboard">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                        </button>
                    </div>
                     <div id="copyFeedback" class="text-green-400 text-sm mt-2 opacity-0 transition-opacity duration-500">Copied!</div>
                </div>
                
                <div id="breakdownSection" class="mt-8 hidden">
                     <h3 class="text-lg font-semibold text-white mb-3 text-center">Calculation Breakdown</h3>
                     <div id="breakdownContainer" class="glass-effect rounded-lg p-4 max-h-48 overflow-y-auto">
                        </div>
                </div>
            </div>
        </div>
    </main>
    
     <footer class="bg-gray-900 border-t border-gray-800">
        <div class="container mx-auto px-6 py-6 text-center text-gray-500">
            <p>&copy; 2024 IslamicCalculations.io. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // Dropdown menu toggle
        const menuToggle = document.getElementById('menu-toggle');
        const navLinks = document.getElementById('nav-links');
        menuToggle.addEventListener('click', (event) => {
            navLinks.classList.toggle('hidden');
            event.stopPropagation();
        });
        document.addEventListener('click', (event) => {
            if (!navLinks.contains(event.target) && !menuToggle.contains(event.target)) {
                navLinks.classList.add('hidden');
            }
        });
        
        // Abjad calculator logic
        const textInput = document.getElementById('textInput');
        const calculateBtn = document.getElementById('calculateBtn');
        const clearBtn = document.getElementById('clearBtn');
        const resultSection = document.getElementById('resultSection');
        const totalValueEl = document.getElementById('totalValue');
        const breakdownSection = document.getElementById('breakdownSection');
        const breakdownContainer = document.getElementById('breakdownContainer');
        const copyBtn = document.getElementById('copyBtn');
        const copyFeedback = document.getElementById('copyFeedback');

        const abjadMap = {
            'ا': 1, 'أ': 1, 'إ': 1, 'آ': 1, 'ب': 2, 'ج': 3, 'د': 4, 'ه': 5, 'ة': 5,
            'و': 6, 'ز': 7, 'ح': 8, 'ط': 9, 'ي': 10, 'ى': 10, 'ك': 20, 'ل': 30,
            'م': 40, 'ن': 50, 'س': 60, 'ع': 70, 'ف': 80, 'ص': 90, 'ق': 100,
            'ر': 200, 'ش': 300, 'ت': 400, 'ث': 500, 'خ': 600, 'ذ': 700,
            'ض': 800, 'ظ': 900, 'غ': 1000,
        };

        function calculateAbjad() {
            const text = textInput.value;
            if (!text.trim()) {
                resultSection.classList.add('hidden');
                breakdownSection.classList.add('hidden');
                return;
            }
            let total = 0;
            let breakdownHTML = '<div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 text-center">';
            for (const char of text) {
                const value = abjadMap[char];
                if (value) {
                    total += value;
                    breakdownHTML += `<div class="bg-gray-800/50 p-2 rounded-md"><span class="font-mono text-lg text-yellow-400">${char}</span><span class="text-xs text-gray-400 block">${value}</span></div>`;
                } else if (char.trim() !== '') {
                     breakdownHTML += `<div class="bg-gray-800/50 p-2 rounded-md opacity-50"><span class="font-mono text-lg text-gray-500">${char}</span><span class="text-xs text-gray-500 block">0</span></div>`;
                }
            }
            breakdownHTML += '</div>';
            totalValueEl.textContent = total;
            breakdownContainer.innerHTML = breakdownHTML;
            resultSection.classList.remove('hidden');
            breakdownSection.classList.remove('hidden');
        }

        function clearAll() {
            textInput.value = '';
            resultSection.classList.add('hidden');
            breakdownSection.classList.add('hidden');
            totalValueEl.textContent = '0';
            breakdownContainer.innerHTML = '';
            textInput.focus();
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(totalValueEl.textContent).then(() => showCopyFeedback());
        }
        
        function showCopyFeedback() {
             copyFeedback.classList.remove('opacity-0');
             setTimeout(() => { copyFeedback.classList.add('opacity-0'); }, 2000);
        }

        calculateBtn.addEventListener('click', calculateAbjad);
        clearBtn.addEventListener('click', clearAll);
        copyBtn.addEventListener('click', copyToClipboard);
        textInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                calculateAbjad();
            }
        });
    </script>
</body>
</html>